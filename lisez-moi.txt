Pour accéder au serveur, si vous voulez par exemple changer quelque
chose sur la page (index.html) :

Par ftp, sur ftp.noslivres.net, nom d'utilisateur « noslivre » (pas de
« s » à la fin, je n'ai pas vu le moyen de changer ça).

Sous Windows, il est possible de créer un dossier qui sera connecté au
serveur (dans le style dropbox). Pour cela, il faut right-clicker dans
Explorer sur « Computer » (le pseudo dossier qui contient la liste des
disques locaux, entre autres), et choisir « Add a network location ».
Utilisez « ftp://ftp.noslivres.net » pour l'adresse internet, et
« noslivre », pour le nom d'utilisateur.

----------------------------------------------------------------------------

Les participants fournissent leur catalogue soit sous la forme d'un 
fichier CSV, soit sous la forme d'un catalogue OPDS.

Nous avons un programme qui collecte les catalogues individuels et
crée le catalogue commun (www/books.csv), ainsi qu'un news feed pour
les additions récentes (www/feed-recents.xml).

Ces deux fichiers sont copiés manuellement sur le site. 

Une visite, dans un browser, à <http://noslivres.net/load.php> charge
le fichier books.csv dans une base de donnée MySQL.

Lorsque les utilisateurs visitent <http://noslivres.net>, la page
utilise query.php pour intéragir avec la base de données et
selectioner les entrées qui correspondent au critère de recherche.


----------------------------------------------------------------------------

L'organisation du serveur est assez simple : 

lisez-moi.txt                               (ce fichier)
collect.sh                                  pour mettre à jour localement
stats.txt                                   historique du nombre de livres

code/
  build.sh                                  pour compiler le code
  src/net/noslivres/catalog/Catalog.java    le code
  common-compress-1.8.1.jar 
  commons.io-2.4.jar                        

www/                visible via http://www.noslivres.net
  .ovhconfig        pour sélectionner la version de PHP
  index.html        la page
  query.php         appelé par la page pour 

  books.csv         le catalogue
  feed-recents.xml  le feed RSS des nouveautés

  load.php          a accéder après avoir mis books.csv à jour, 
                    pour charger la base de données


  contributions/    pour recevoir les catalogues individuels, si besoin est
    bnr_liste_livre.txt           les livres BNR
    catalogue-O'Monroy.txt        les livres de roger64
    gallica.txt			  les livres de Gallica (leur OPDS est cassé)
    ixezede.txt			  les livres de ixezede

----------------------------------------------------------------------------

La base de données:

- user: noslivrecat
- password: même que le site
- db: noslivrecat
- server: noslivrecat.mysql.db

Il y a juste une table.

----------------------------------------------------------------------------

Email : 

contact@noslivres.net
   Pour le public.

   renvoie sur contact.noslivres@efele.net, qui renvoie à son tour sur 

   contact@ebooksgratuits.com
   eric.muller@efele.net
   
admins@noslivres.net
   Pour nous parler entre nous.

   renvoie sur admins.noslivres@efele.net, qui renvoie à son tour sur

   eric.muller@efele.net                    (EFELE)
   contact@ebooksgratuits.com               (ELG)
   rjargoyhen@gmail.com                     (Mobile Read - roger64)       
   lejoyeuxroger@gmail.com                  
   contact@bibliotheque-russe-et-slave.com  (BRS)
   contact@ebooks-bnr.com                   (BNR)
   denis.blaizot@gmail.com                  (Gloubik)
   chineancienne.fr@gmail.com               (Chine Ancienne)
   belgiqueebook@gmail.com		    (TPBNB)
   bessonbesson@laposte.net		    (ixezede)
   meskach@free.fr			    (meskach)
   
OVH ne permet pas de renvoyer sur plusieurs addresses, d’où les indirections
par efele.net. Prévenir eric.muller@efele.net pour modifier ces listes.

---------------------------------------------------------------------------

Pour construire le catalogue, vous avez besoin de pouvoir éxécuter des 
programmes Java, à partir d'un terminal. Vous avez aussi besoin de git.

Faire un clone du dépot GIT :

$ git clone https://github.com/eric-muller/noslivres.git
$ cd noslivres

Compiler le code :

$ (cd code; sh build.sh)

Collecter le catalogue :

$ sh collect.sh

Vous devrier voir s'afficher quelque chose comme :

BEQ : 1513
BNR : 174
ÉFÉLÉ : 355
ELG : 1674
Gallica : 159
BRS : 76
Gloubik : 38
rousseauonline : 115
Mobile Read - roger64 : 52
Wikisource : 285
Gutenberg : 2314
6736 livres en tout

Vous avez maintenant deux fichiers mis à jour: www/books.csv et
www/feed-recents.xml, qui peuvent être copiés via ftp sur notre serveur.

Ensuite, visitez la page http://noslivres.net/load.php pour mettre à jour
la base de données.

---------------------------------------------------------------------------

Pour  ajouter un nouveau site, il faut modifier le code et le recompiler.

---------------------------------------------------------------------------

Si vous devez reinstaller www/load.php et www/query.php à partir de la
version github, il faut insérer les paramètres de la base de donnée
(user, password, db, server) au début de ces fichiers.



